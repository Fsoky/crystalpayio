<p align="center">
      <img src="https://i.ibb.co.com/1RzcT6y/Be-Funky-design.png" alt="Project Logo" width="500">
</p>

<p align="center">
    <img src="https://img.shields.io/badge/Version-1.0.4-blueviolet" alt="Game Version">
    <img src="https://img.shields.io/badge/License-MIT-success" alt="License">
</p>

## Ðž Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐµ ðŸ’™
Ð‘Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ° **CrystalPayIO** Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ ÑƒÐ´Ð¾Ð±Ð½Ð¾Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸ÑŽ _[CrystalPay](https://crystalpay.io/) API_ Ð² Ð²Ð°ÑˆÐ¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹.

Ð’ Ð´Ð°Ð½Ð½Ð¾Ð¼ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸ Ð²Ñ‹ Ð½Ð°Ð¹Ð´ÐµÑ‚Ðµ ÑÐ¿Ð¾ÑÐ¾Ð±Ñ‹ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸.
Ð•ÑÐ»Ð¸ Ð²Ñ‹ Ð¾Ð±Ð½Ð°Ñ€ÑƒÐ¶Ð¸Ñ‚Ðµ Ð±Ð°Ð³Ð¸ Ð¸Ð»Ð¸ ÐºÐ°ÐºÐ¸Ðµ-Ð»Ð¸Ð±Ð¾ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ð¿Ñ€Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ð¸ Ð¿Ñ€Ð¾ÑˆÑƒ Ð¾Ñ‚Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð² [Ñ‚ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼](https://t.me/fsoky_community). Ð”Ð°Ð½Ð½Ñ‹Ð¹ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°Ñ‚ÑŒÑÑ Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÑ‚ÑŒÑÑ. Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾, Ñ…Ð¾Ñ€Ð¾ÑˆÐµÐ³Ð¾ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ñ!
> Ð§Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ _AUTH_LOGIN_ & _AUTH_SECRET_ Ð¿ÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð² [Ñ‚ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼ Ð±Ð¾Ñ‚Ð°](https://t.me/CrystalPAY_bot) Ð¸ ÑÐ¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð½Ð¾Ð²ÑƒÑŽ ÐºÐ°ÑÑÑƒ. \
> Ð’ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°Ñ… Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð²ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ‚ÐµÑÑ‚Ð¾Ð²Ñ‹Ðµ Ð¿Ð»Ð°Ñ‚ÐµÐ¶Ð¸.

## Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° ðŸ§¡
- Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑ Ð¿Ð°ÐºÐµÑ‚Ð½Ñ‹Ð¹ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ€ pip
```
$ pip install crystalpayio
```
- Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ñ GitHub *(Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ [git](https://git-scm.com/downloads))*
```
$ git clone https://github.com/Fsoky/crystalpayio
$ cd crystalpayio
$ python setup.py install
```
- Ð˜Ð»Ð¸
```
$ pip install git+https://github.com/Fsoky/crystalpayio
```

## ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ ðŸ’œ
- Ð¨Ð°Ð±Ð»Ð¾Ð½
```py
import asyncio
from crystalpayio import CrystalPayIO


async def main() -> None:
    async with CrystalPayIO("AUTH_LOGIN", "AUTH_SECRET") as crystal:
        ...


if __name__ == "__main__":
  asyncio.run(main())
```
- Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ \
    `checkout` - ÐšÐ°ÑÑÐ° \
    `payment` - ÐŸÐ»Ð°Ñ‚ÐµÐ¶Ð¸ \
    `invoice` - Ð˜Ð½Ð²Ð¾Ð¹ÑÑ‹ (Ñ‡ÐµÐºÐ¸) \
    `payoff` - Ð’Ñ‹Ð²Ð¾Ð´ ÑÑ€ÐµÐ´ÑÑ‚Ð² \
    `ticker` - Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ Ð²Ð°Ð»ÑŽÑ‚Ñ‹ Ð¸ ÐºÑƒÑ€Ñ \
    `history` - Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð¿Ð»Ð°Ñ‚ÐµÐ¶ÐµÐ¹/Ð²Ñ‹Ð²Ð¾Ð´Ð¾Ð²/Ð¾Ð±Ñ‰Ð°Ñ
```py
async with CrystalPayIO("AUTH_LOGIN", "AUTH_SECRET") as crystal:
    # ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ð¼ÐµÑ‚Ð¾Ð´ Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑÑ Ð² ÑÐ²Ð¾Ð¹ÑÑ‚Ð²Ðµ, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€ ÐºÐ°ÑÑÐ°:
    checkout = await crystal.checkout.me()
```

## ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸ Ð² Ñ‚ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼-Ð±Ð¾Ñ‚Ð° (aiogram 3.x) â¤
```py
import asyncio

from aiogram import Router, Bot, Dispatcher, F
from aiogram.types import Message, CallbackQuery, InlineKeyboardMarkup, InlineKeyboardButton
from aiogram.filters import CommandStart

from crystalpayio import CrystalPayIO

router = Router()
crystal = CrystalPayIO("AUTH_LOGIN", "AUTH_SECRET")


async def create_invoice() -> tuple:
    invoice = await crystal.invoice.create(
        100, # Ð¦ÐµÐ½Ð°
        5, # Ð’Ñ€ÐµÐ¼Ñ Ð¶Ð¸Ð·Ð½Ð¸ Ñ‡ÐµÐºÐ° (Ð² Ð¼Ð¸Ð½ÑƒÑ‚Ð°Ñ…)
        amount_currency="RUB" # Ð’Ð°Ð»ÑŽÑ‚Ð°
    )
    return (invoice.url, invoice.id)


async def invoice_handler(id: str, message: Message) -> None:
    while True:
        invoice = await crystal.invoice.get(id)
        
        if invoice.state != "notpayed":
            await message.answer("Ð¡Ñ‡Ñ‘Ñ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¾Ð¿Ð»Ð°Ñ‡ÐµÐ½!")
        await asyncio.sleep(15) # Ð—Ð°Ð´ÐµÑ€Ð¶ÐºÐ°


@router.message(CommandStart())
async def show_goods(message: Message) -> None:
    await message.answer(
        "ðŸŽƒ Ð¢Ñ‹ÐºÐ²Ð° - 100 Ð Ð£Ð‘.",
        reply_markup=InlineKeyboardMarkup(
            inline_keyboard=[
                [InlineKeyboardButton(text="ÐšÐ£ÐŸÐ˜Ð¢Ð¬", callback_data="buy")]
            ]
        )
    )


@router.callback_query(F.data == "buy")
async def buy_handler(query: CallbackQuery) -> None:
    invoice_task = asyncio.create_task(create_invoice())
    invoice_result = await invoice_task

    await query.message.answer(f"ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸ Ð¿Ð¾ ÑÑÑ‹Ð»ÐºÐµ Ð¸ Ð¾Ð¿Ð»Ð°Ñ‚Ð¸: {invoice_result[0]}")
    await query.answer()

    asyncio.create_task(invoice_handler(invoice_result[1], query.message))


async def main() -> None:
    bot = Bot("TOKEN")
    dp = Dispatcher()

    dp.include_router(router)

    await bot.delete_webhook(True)
    await dp.start_polling(bot)


if __name__ == "__main__":
    asyncio.run(main())
```
